<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Scheduler Performance Report</title>
        <style>
            body {
                font-family: sans-serif;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                line-height: 1.6;
            }
            .plotly-chart {
                width: 100%;
                height: 500px;
            }
            .metrics {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            .metric-card {
                border: 1px solid #ccc;
                padding: 15px;
                text-align: center;
            }
            .metric-value {
                font-size: 2em;
                font-weight: bold;
            }
            .toc {
                background: #f5f5f5;
                padding: 15px;
                margin: 20px 0;
            }
            .toc ul {
                margin: 0;
                padding-left: 20px;
            }
            .toc a {
                text-decoration: none;
            }
            .toc a:hover {
                text-decoration: underline;
            }
        </style>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    </head>
    <body>
        <h1>{{ config_name }}</h1>

        <div class="toc">
            <ul>
                <li><a href="#config">Config</a></li>
                <li><a href="#slo">SLO</a></li>
                <li><a href="#load">Workload</a></li>
                <li><a href="#cluster">Cluster Utilization</a></li>
                <li><a href="#runtime">Scheduler Runtime</a></li>
                <li>
                    <a href="#tetrisched">TetriSched Analysis</a>
                    <ul>
                        <li><a href="#solver">Solver Statistics</a></li>
                        <li><a href="#strl">STRL Compiler Performance</a></li>
                    </ul>
                </li>
            </ul>
        </div>

        <h2 id="config">Config</h2>
        <details>
            <summary>Show Configuration</summary>
            <pre>{{ config_details }}</pre>
        </details>

        <h2 id="slo">SLO</h2>
        {{ slo_section | safe }}

        <h2 id="load">Workload</h2>
        {{ load_section | safe }}

        <h2 id="cluster">Cluster Utilization</h2>
        {{ cluster_utilization_section | safe }}

        <h2 id="runtime">Scheduler Runtime</h2>
        {{ scheduler_runtime_section | safe }}

        <h2 id="tetrisched">TetriSched Analysis</h2>
        <h3 id="solver">Solver Statistics</h3>
        {{ solver_stats_section | safe }}
        <h3 id="strl">STRL Compiler Performance</h3>
        {{ strl_section | safe }}
    </body>
</html>
